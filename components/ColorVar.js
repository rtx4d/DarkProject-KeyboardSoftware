"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var CurrentColor=function(){function t(t){void 0===t&&(t=""),this.name="",this.Hue=0,this.Saturation=0,this.Value=0,this.Lightness=0,this.Red=0,this.Green=0,this.Blue=0,this.SBgColor="",this.VBgColor="",this.preDefineColor=["#FF2000","#ff8000","#80ff00","#00ff00","#00ffff","#0000ff","#8000ff","#ff00ff","#ff0080","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff"],this.currentRecordIndex=0,this.SSS="-webkit-linear-gradient(left,#FFFFFF,red)",this.savePosition={precentS:0,precentL:0},this.disX=0,this.disY=0,this.gradientBGcolor="#FFFFFF",this.SetHex("#66CC33"),this.name=t,console.log("CurrentColorCustomName",this.name)}return t.prototype.mousedown=function(t){function e(t,e){return t.currentStyle?t.currentStyle[e]:getComputedStyle(t,null)[e]}var o=document.getElementById(this.name+"PickingArea"),r=document.getElementById(this.name+"Circle"),i=t.layerX,n=t.layerY;i<0&&(i=0),n<0&&(n=0),r.style.left=i+"px",r.style.top=n+"px";var s=(o.clientWidth-r.offsetWidth)/100,h=(o.clientHeight-r.offsetHeight)/100;this.savePosition.precentS=s,this.savePosition.precentL=h;var a=Math.round(n/h),l=Math.round(i/s);this.Lightness=100-a,this.Saturation=l,this.HSL_RGB_HexSet(),this.disX=t.clientX-parseInt(e(r,"left")),this.disY=t.clientY-parseInt(e(r,"top"))},t.prototype.mousemove=function(t){var e=document.getElementById(this.name+"PickingArea"),o=document.getElementById(this.name+"Circle");console.log("CurrentColormousemove",o,e);var r=t.clientX-this.disX,i=t.clientY-this.disY;r<0?r=0:r>e.offsetWidth-o.offsetWidth&&(r=e.offsetWidth-o.offsetWidth),i<0?i=0:i>e.offsetHeight-o.offsetHeight&&(i=e.offsetHeight-o.offsetHeight),o.style.left=r+"px",o.style.top=i+"px";var n=(e.clientWidth-o.offsetWidth)/100,s=Math.round(r/n),h=(e.clientHeight-o.offsetHeight)/100,a=Math.round(i/h);this.Lightness=100-a,this.Saturation=s,this.HSL_RGB_HexSet()},t.prototype.CreateFakeArray=function(t){return void 0===t&&(t=0),Array(t).fill(4)},t.prototype.setDefault=function(){this.SetHex("#66CC33")},t.prototype.onclickColorDefault=function(t,e){this.currentRecordIndex=e,this.formatRGB(t.style.backgroundColor),console.log("onclickColorDefault",t.style.backgroundColor),this.updateCircleDivPos(),this.setGradientBGcolor()},t.prototype.updateCircleDivPos=function(){var t=document.getElementById(this.name+"Circle");t.style.left=this.savePosition.precentS*this.Saturation+"px",t.style.top=this.savePosition.precentL*(100-this.Lightness)+"px"},t.prototype.formatRGB=function(t){console.log("formatRGB",t),this.Hex=this.backGroundColorRgbToHex(t);var e=this.ColorRgbToArray(t);this.SetRGB(e)},t.prototype.SetRGB=function(t){this.Red=t[0],this.Green=t[1],this.Blue=t[2];var e=this.rgbTo_hsl(t);this.Hue=Math.round(e[0]),this.Saturation=Math.round(e[1]),this.Lightness=Math.round(e[2]),this.setGradientBGcolor(),this.showColorVarData()},t.prototype.showColorVarData=function(){var t={Hex:this.Hex,Red:this.Red,Green:this.Green,Blue:this.Blue,Hue:this.Hue,Saturation:this.Saturation,Value:this.Value,Lightness:this.Lightness};console.log(t)},t.prototype.SetHex=function(t){console.log("SetHex",t),this.Hex=t,this.SetRGB(this.hexToRgb(t))},t.prototype.hsv_Rgb_hexSet=function(){console.log("Enter_hsv_Rgb_hexSet HSV>rgb>hex");var t=this.HSVtoRGB(this.Hue/360,this.Saturation/100,this.Value/100);this.Hex=this.rgbToHex(t[0],t[1],t[2]),this.Red=t[0],this.Green=t[1],this.Blue=t[2]},t.prototype.HSL_RGB_HexSet=function(){console.log("Enter_hsv_Rgb_hexSet HSV>rgb>hex");var t=this.hslToRGB(this.Hue,this.Saturation,this.Lightness);this.Hex=this.rgbToHex(t[0],t[1],t[2]),this.Red=t[0],this.Green=t[1],this.Blue=t[2],this.setPreDefineColor()},t.prototype.setPreDefineColor=function(){this.preDefineColor[this.currentRecordIndex]=this.Hex},t.prototype.getPreDefineColor=function(){return this.preDefineColor[this.currentRecordIndex]},t.prototype.rgbTo_hsl=function(t){var e=t[0]/255,o=t[1]/255,r=t[2]/255,i=Math.max(e,o,r),n=Math.min(e,o,r),s=(i+n)/2,h=0,a=0;i!=n&&(h=s<.5?(i-n)/(i+n):(i-n)/(2-i-n),a=e==i?(o-r)/(i-n):o==i?2+(r-e)/(i-n):4+(e-o)/(i-n)),s=100*s,h=100*h,a=60*a,a<0&&(a+=360);var l=[a,h,s];return l},t.prototype.setS_RGBColor=function(){var t=this.HSVtoRGB(this.Hue/360,1,this.Value/100);this.SBgColor="-webkit-linear-gradient(left,#FFFFFF,rgb("+t[0]+","+t[1]+","+t[2]+"))",console.log("setS_RGBColor",this.SBgColor)},t.prototype.setV_RGBColor=function(){var t=this.HSVtoRGB(this.Hue/360,this.Saturation/100,1);this.VBgColor="-webkit-linear-gradient(left,#FFFFFF,rgb("+t[0]+","+t[1]+","+t[2]+"))",console.log("setV_RGBColor",this.VBgColor)},t.prototype.setGradientBGcolor=function(){var t=this.getHSL_RGBColor(this.Hue,100,50);this.gradientBGcolor="rgb("+t[0]+","+t[1]+","+t[2]+")"},t.prototype.getHSL_RGBColor=function(t,e,o){return this.hslToRGB(t,e,o)},t.prototype.getS_RGBColor=function(){return this.HSVtoRGB(this.Hue/360,1,this.Value/100)},t.prototype.getV_RGBColor=function(){return this.HSVtoRGB(this.Hue/360,this.Saturation/100,1)},t.prototype.getColorFormat_RGB=function(){return"rgb("+this.Red+","+this.Blue+","+this.Green+")"},t.prototype.getRgb2HSV=function(){var t=this.Red,e=this.Green,o=this.Blue;return console.log("getRgb2HSV",t,e,o),this.rgb2HSV(t,e,o)},t.prototype.hexToRgb=function(t){console.log("hexToRgbInputData",t);try{var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return console.log("hexToRgbResult",[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]),e?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]:null}catch(t){return 1}},t.prototype.backGroundColorRgbToHex=function(t){if("r"==t.charAt(0)){t=t.replace("rgb(","").replace(")","").split(",");var e=parseInt(t[0],10).toString(16),o=parseInt(t[1],10).toString(16),r=parseInt(t[2],10).toString(16);e=1==e.length?"0"+e:e,o=1==o.length?"0"+o:o,r=1==r.length?"0"+r:r;var i="#"+e+o+r;return console.log("backGroundColorRgbToHex",t),i}},t.prototype.ColorRgbToArray=function(t){if("r"==t.charAt(0)){var e=t.replace("rgb(","").replace(")","").split(",");return e}},t.prototype.hslToRGB=function(t,e,o){isFinite(t)||(t=0),isFinite(e)||(e=0),isFinite(o)||(o=0),t/=60,t<0&&(t=6- -t%6),t%=6,e=Math.max(0,Math.min(1,e/100)),o=Math.max(0,Math.min(1,o/100));var r=(1-Math.abs(2*o-1))*e,i=r*(1-Math.abs(t%2-1));t<1?(s=r,h=i,a=0):t<2?(s=i,h=r,a=0):t<3?(s=0,h=r,a=i):t<4?(s=0,h=i,a=r):t<5?(s=i,h=0,a=r):(s=r,h=0,a=i);var n=o-r/2,s=Math.round(255*(s+n)),h=Math.round(255*(h+n)),a=Math.round(255*(a+n));return console.log("hslToRGB",[s,h,a]),[s,h,a]},t.prototype.rgbToHex=function(t,e,o){var r=this.NumTo16Decimal(t),i=this.NumTo16Decimal(e),n=this.NumTo16Decimal(o);return console.log("rgbToHex","#"+r+i+n),"#"+r+i+n},t.prototype.NumTo16Decimal=function(t){var e=Number(t).toString(16);return e.length<2&&(e="0"+e),e},t.prototype.rgb2HSV=function(t,e,o){console.log("rgb2HSVInput",t,e,o);var r=0,i=0,n=0,s=t,h=e,a=o;if(null==s||null==h||null==a||isNaN(s)||isNaN(h)||isNaN(a))return void alert("Please enter numeric RGB values!");if(s<0||h<0||a<0||s>255||h>255||a>255)return void alert("RGB values must be in the range 0 to 255.");s/=255,h/=255,a/=255;var l=Math.min(s,Math.min(h,a)),f=Math.max(s,Math.max(h,a));if(l==f)return n=l,[0,0,n];var u=s==l?h-a:a==l?s-h:a-s,c=s==l?3:a==l?1:5;return r=60*(c-u/(f-l)),i=(f-l)/f,n=f,console.log("rgb2HSVResult",[r,i,n]),[r,i,n]},t.prototype.HSVtoRGB=function(t,e,o){var r,i,n,s,h,a,l,f;switch(1===arguments.length&&(e=t.s,o=t.v,t=t.h),s=Math.floor(6*t),h=6*t-s,a=o*(1-e),l=o*(1-h*e),f=o*(1-(1-h)*e),s%6){case 0:r=o,i=f,n=a;break;case 1:r=l,i=o,n=a;break;case 2:r=a,i=o,n=f;break;case 3:r=a,i=l,n=o;break;case 4:r=f,i=a,n=o;break;case 5:r=o,i=a,n=l}var u=[Math.round(255*r),Math.round(255*i),Math.round(255*n)];return u},t}();exports.CurrentColor=CurrentColor;