"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var KeyBoardManager=function(){function e(e){this.defaultName="未配置",this.combinationkey="",this.combination=[{name:"Alt",check:!1},{name:"Shift",check:!1},{name:"Ctrl",check:!1},{name:"Win",check:!1}],this.currentChooseKeyBoard=0,this.radioOptions=65535,this.radioOptionsFrequency=100,this.KeyBoardArray=[new KeyBoard("硬體配置1",e),new KeyBoard("硬體配置2",e),new KeyBoard("硬體配置3",e),new KeyBoard("硬體配置4",e)],this.maxKayCapNumber=e}return e.prototype.keyAssignPrompt=function(e){var t=document.getElementById("KeyAssignPrompt"),r=e.target.offsetHeight,o=e.target.offsetWidth;console.log("keyAssignPrompt",r,o,e),t.style.left=e.target.offsetLeft+e.target.offsetWidth+"px",t.style.top=e.target.offsetTop+"px",console.log("keyAssignPrompt",e.offsetX,e.offsetY)},e.prototype.clearAllKeyboardData=function(e){for(var t=0;t<4;t++)this.KeyBoardArray[t]=new KeyBoard(e+(t+1),this.maxKayCapNumber)},e.prototype.i18nChangeName=function(e){for(var t=this.KeyBoardArray,r=0;r<t.length;r++)t[r].projectName=e+" "+(r+1)},e.prototype.clearAllAssignRecordLed=function(e){void 0===e&&(e="");for(var t=this.KeyBoardArray,r=0;r<t.length;r++)t[r].clearAssignRecordLed(e)},e.prototype.ChangeAllLookingforMacroName=function(e,t){void 0===e&&(e=""),void 0===t&&(t=""),console.log("EnterKeyChangeMacroName",e,t);for(var r=this.KeyBoardArray,o=0;o<r.length;o++)r[o].ChangeMacroName(e,t)},e.prototype.ChangeAllLookingforLCFMName=function(e,t){void 0===e&&(e=""),void 0===t&&(t=""),console.log("EnterKeyChangeMacroName",e,t);for(var r=this.KeyBoardArray,o=0;o<r.length;o++)r[o].ChangeLCFMName(e,t)},e.prototype.clearRecordMacroData=function(e){void 0===e&&(e=""),console.log("clearRecordMacroData",e);for(var t=this.KeyBoardArray,r=0;r<t.length;r++)t[r].clearMacroName(e)},e.prototype.getTarget=function(){return this.KeyBoardArray[this.currentChooseKeyBoard]},e.prototype.getAssignTarget=function(e){return this.KeyBoardArray[e]},e.prototype.create_KeyBoard=function(e){void 0===e&&(e="配置方案");var t=this.KeyBoardArray.length+666;this.KeyBoardArray.push(new KeyBoard(e+t,this.maxKayCapNumber))},e.prototype.delete_KeyBoard=function(){if(this.currentChooseKeyBoard>0){var e=this.currentChooseKeyBoard;this.currentChooseKeyBoard-=1,this.KeyBoardArray.splice(e,1)}else 0==this.currentChooseKeyBoard&&this.KeyBoardArray.splice(this.currentChooseKeyBoard,1)},e.prototype.setDefault=function(){},e}();exports.KeyBoardManager=KeyBoardManager;var KeyBoard=function(){function e(e,t){void 0===e&&(e=""),this.hibernate=!0,this.winLock=!1,this.directionSwitch=!1,this.hibernateTimeArr=[1,3,5,10],this.reportRateIndex=0,this.hibernateTime=3,this.defaultName="",this.recordAssignBtnIndex=0,this.assignText="設定按鍵:Y",this.assignedKeyboardKeys=[[],[],[],[]],this.assignedFnKeyboardKeys=[],this.fnModeMartrix=[!1,!1,!1],this.fnModeindex=0,this.fiveDefaultLedCode=[],this.fiveRecordIndex=0,this.maxKayCapNumber=t,this.projectName=e;for(var r=0;r<4;r++)for(var o=0;o<this.maxKayCapNumber;o++)this.assignedKeyboardKeys[r].push(this.defaultModule());for(var r=0;r<5;r++)this.fiveDefaultLedCode.push({projectCode:0,projectName:this.defaultName})}return e.prototype.getHibernateStepTime=function(){return this.hibernateTimeArr[this.hibernateTime]},e.prototype.clearLostLCFM=function(e){function t(e,t,r){for(var o=0;o<e.length;o++){var a=e[o];if(a.projectCode==t&&a.projectName==r)return console.log("存在值",a,t,r),!0}return!1}void 0===e&&(e=[]);var r=this.fiveDefaultLedCode;if(e.length<=0)return this.clearAllLCFM();for(var o=0;o<this.assignedKeyboardKeys.length;o++)for(var a=0;a<this.maxKayCapNumber;a++){var i=this.assignedKeyboardKeys[o];0!=i[o].projectCode&&0==t(e,i[a].projectCode,i[a].projectName)&&(console.log("clearLostLCFMV1=>重置"),i[a].projectCode=0,i[a].projectName=this.defaultName)}for(var n=0;n<r.length;n++)0!=r[n].projectCode&&0==t(e,r[n].projectCode,r[n].projectName)&&(console.log("clearLostLCFMV3=>重置"),r[n].projectCode=0,r[n].projectName=this.defaultName)},e.prototype.clearAllLCFM=function(){for(var e=this.fiveDefaultLedCode,t=0;t<this.maxKayCapNumber;t++)for(var r=0;r<this.assignedKeyboardKeys.length;r++){var o=this.assignedKeyboardKeys[t];0!=o[r].projectCode&&(o[r].projectCode=0,o[r].projectName=this.defaultName)}for(var a=0;a<e.length;a++)0!=e[a].projectCode&&(e[a].projectCode=0,e[a].projectName=this.defaultName)},e.prototype.clearLostMacro=function(e){function t(e,t,r){for(var o=0;o<e.length;o++){var a=e[o];if(a.IndexCode==t&&a.name==r)return console.log("存在值",a,t,r),!0}return!1}if(void 0===e&&(e=[]),console.log("clearLostMacro_MCIarr",e),e.length>0)for(var r=0;r<this.assignedKeyboardKeys.length;r++)for(var o=0;o<this.maxKayCapNumber;o++){var a=this.assignedKeyboardKeys[r];"KMacro"==a[o].keyAssignType&&0==t(e,a[o].macroCode,a[o].value)&&(a[o].keyAssignType=this.defaultName,a[o].value=this.defaultName,a[o].macroOptionNumber=65536,a[o].macroCode=0)}else this.clearAllKMacro()},e.prototype.clearAllKMacro=function(){for(var e=0;e<this.assignedKeyboardKeys.length;e++)for(var t=0;t<this.maxKayCapNumber;t++){var r=this.assignedKeyboardKeys[e];"KMacro"==r[t].keyAssignType&&(r[t].keyAssignType=this.defaultName,r[t].value=this.defaultName,r[t].macroOptionNumber=65536,r[t].macroCode=0)}},e.prototype.ChangeLCFMName=function(e,t){void 0===e&&(e=""),void 0===t&&(t="");var r=this.fiveDefaultLedCode;console.log("ChangeLCFMName",e,t,this.assignedKeyboardKeys);for(var o=0;o<this.assignedKeyboardKeys.length;o++)for(var a=0;a<this.maxKayCapNumber;a++){var i=this.assignedKeyboardKeys[o];i[a].projectName==t&&(i[a].projectName=e)}for(var o=0;o<r.length;o++)r[o].projectName==t&&(r[o].projectName=e)},e.prototype.ChangeMacroName=function(e,t){void 0===e&&(e=""),void 0===t&&(t=""),console.log("KeyChangeMacroName",e,t);for(var r=0;r<this.assignedKeyboardKeys.length;r++)for(var o=this.assignedKeyboardKeys[r],a=0;a<this.maxKayCapNumber;a++){var i=o[a];i.value==t&&"KMacro"==i.keyAssignType&&(console.log("KeyChangeMacroName_t",i),i.value=e)}},e.prototype.clearMacroName=function(e){void 0===e&&(e="");for(var t=0;t<this.assignedKeyboardKeys.length;t++)for(var r=this.assignedKeyboardKeys[t],o=0;o<this.maxKayCapNumber;o++){var a=r[o];a.value==e&&"KMacro"==a.keyAssignType&&(a.value=this.defaultName)}},e.prototype.countTotalAssign=function(){for(var e=this.assignedKeyboardKeys[0],t=0,r=0;r<this.maxKayCapNumber;r++)0!=e[r].projectCode&&(t+=1);return t},e.prototype.clearAssignRecordLed=function(e){void 0===e&&(e="");for(var t=this.fiveDefaultLedCode,r=0;r<this.assignedKeyboardKeys.length;r++)for(var o=this.assignedKeyboardKeys[r],a=0;a<this.maxKayCapNumber;a++)o[a].projectName==e&&(o[a].projectCode=0,o[a].projectName="");for(var r=0;r<t.length;r++)t[r].projectName==e&&(t[r].projectCode=0,t[r].projectName="")},e.prototype.clearAssignLedcode=function(e){void 0===e&&(e="");for(var t=this.fiveDefaultLedCode,r=0;r<this.assignedKeyboardKeys.length;r++)for(var o=this.assignedKeyboardKeys[r],a=0;a<this.maxKayCapNumber;a++)o[a].projectCode==e&&(o[a].projectCode=0,o[a].projectName=this.defaultName);for(var r=0;r<t.length;r++)t[r].projectCode==e&&(t[r].projectCode=0,t[r].projectName=this.defaultName)},e.prototype.ImportClassData=function(e){console.log("ImportClassData",e);for(var t=Object.keys(this),r=0;r<t.length;r++)for(var o=0;o<t.length;o++)"KB61Prohibit"!=t[o]&&(this[t[o]]=e[t[o]])},e.prototype.HasSet=function(e){void 0===e&&(e=0);var t=this.getNowModeKeyMatrix(),r=t[e].value,o=t[e].projectName;return""!=r||""!=o},e.prototype.checkKeyAssignHasData=function(e){void 0===e&&(e="");for(var t=document.querySelectorAll(".KeyAssignUIStyle"),r=0;r<t.length;r++){var o=this.HasSet(r),a=t[r];o?a.style.border="2px solid #ffc757":a.style.border=""}},e.prototype.getKeyTargetOptionFrequency=function(){var e=this.getNowModeKeyMatrix()[this.recordAssignBtnIndex].macroOptionNumber;switch(console.log("getKeyTargetOptionFrequency",e),!0){case e<65535:return e;case 65535==e:return 1;case 65536==e:return 1}},e.prototype.cancel_prohibit=function(){console.log("cancel_prohibit_FNMode");for(var e=this.getNowModeKeyMatrix(),t=0;t<e.length;t++)"K12"==e[t].keyAssignType&&(e[t].keyAssignType=this.defaultName,e[t].value=this.defaultName,e[t].macroOptionNumber=65536,e[t].macroCode=0)},e.prototype.getNowModeKeyMatrix=function(){return this.assignedKeyboardKeys[this.fnModeindex]},e.prototype.setFnModeMartrix=function(e){this.fnModeMartrix[e]=!this.fnModeMartrix[e];for(var t=0;t<this.fnModeMartrix.length;t++)e!=t&&(this.fnModeMartrix[t]=!1);this.fnModeMartrix.some(function(e){return 1==e})?this.fnModeindex=e+1:this.fnModeindex=0,console.log("setFnModeMartrix_改後",this.fnModeMartrix[e],this.fnModeindex),this.checkKeyAssignHasData("setFnModeMartrix")},e.prototype.set_prohibit=function(e){void 0===e&&(e="");var t=KB61Prohibit.get_prohibit(e);console.log("get_prohibit",t);for(var r=0;r<t.length;r++){var o=this.getNowModeKeyMatrix()[t[r]];o.keyAssignType="K12",o.value="⊘",o.macroOptionNumber=65536}},e.prototype.get_assign_promptText=function(){return this.getNowModeKeyMatrix()[this.recordAssignBtnIndex].value},e.prototype.get_Led_promptText=function(){return this.getNowModeKeyMatrix()[this.recordAssignBtnIndex].projectName},e.prototype.checkFnSetOnlyData=function(e){console.log("clearLostMacro_MCIarr");for(var t=this.getNowModeKeyMatrix(),r=0;r<this.maxKayCapNumber;r++)t[r].keyAssignType==e&&(t[r]=this.defaultModule())},e.prototype.set_assign_Text_Value=function(e,t,r,o){void 0===e&&(e=""),void 0===r&&(r=65536),void 0===o&&(o=0),console.log("set_assign_Text_ValueTypeName",e),console.log("set_assign_Text_ValueIndexCode",o),console.log("FNMode_TextAndValue");var a=this.getNowModeKeyMatrix()[this.recordAssignBtnIndex];a.keyAssignType=e,a.value=t,a.macroOptionNumber=r,a.macroCode=o},e.prototype.setRecordLed=function(e,t){console.log("setRecordLedVar_",e,t);var r=this.getNowModeKeyMatrix()[this.recordAssignBtnIndex];r.projectName=e,r.projectCode=t},e.prototype.set_FiveLed=function(e,t){console.log("set_FiveLed",e,t);var r=this.fiveDefaultLedCode[this.fiveRecordIndex];r.projectCode=t,r.projectName=e},e.prototype.resetAssignFive=function(e){var t=this.fiveDefaultLedCode[e];t.projectCode=0,t.projectName=this.defaultName},e.prototype.reset_assign_default=function(e){if(void 0===e&&(e=""),console.log("reset_assign_default",e),"key"==e){var t=this.getNowModeKeyMatrix()[this.recordAssignBtnIndex];t.keyAssignType=this.defaultName,t.value=this.defaultName,t.macroOptionNumber=65536,t.macroCode=0}else if("led"==e){var t=this.getNowModeKeyMatrix()[this.recordAssignBtnIndex];t.projectName=this.defaultName,t.projectCode=0}},e.prototype.defaultModule=function(e){void 0===e&&(e="");var t={keyAssignType:this.defaultName,value:this.defaultName,macroOptionNumber:65536,macroCode:0,projectName:this.defaultName,projectCode:0};return t},e}();exports.KeyBoard=KeyBoard;var KeyBoardStyle=function(){function e(){this.nowTargetIndex=0,this.nowTargetKey="61M",this.keyBoardList={"61M":{ItemCss:{0:"margin-left:2%;margin-top:1.7%;",1:"margin-left:12.7%;margin-top:1.7%;",2:"margin-left:18%;margin-top:1.7%;",3:"margin-left:23.3%;margin-top:1.7%;",4:"margin-left:28.7%;margin-top:1.7%;",5:"margin-left:36.1%;margin-top:1.7%;",6:"margin-left:41.5%;margin-top:1.7%;",7:"margin-left:46.8%;margin-top:1.7%;",8:"margin-left:52.2%;margin-top:1.7%;",9:"margin-left:59.8%;margin-top:1.7%;",10:"margin-left:65.2%;margin-top:1.7%;",11:"margin-left:70.6%;margin-top:1.7%;",12:"margin-left:76%;margin-top:1.7%;",13:"margin-left:82.6%;margin-top:1.7%;",14:"margin-left:88%;margin-top:1.7%;",15:"margin-left:93.4%;margin-top:1.7%;",16:"margin-left:2.1%;margin-top:9.4%;",17:"margin-left:7.4%;margin-top:9.4%;",18:"margin-left:12.7%;margin-top:9.4%;",19:"margin-left:17.9%;margin-top:9.4%;",20:"margin-left:23.2%;margin-top:9.4%;",21:"margin-left:28.3%;margin-top:9.4%;",22:"margin-left:33.7%;margin-top:9.4%;",23:"margin-left:39%;margin-top:9.4%;",24:"margin-left:44.2%;margin-top:9.4%;",25:"margin-left:49.6%;margin-top:9.4%;",26:"margin-left:54.8%;margin-top:9.4%;",27:"margin-left:60.2%;margin-top:9.4%;",28:"margin-left:65.4%;margin-top:9.4%;",29:"margin-left:70.7%;margin-top:9.4%;width:10%;",30:"margin-left:82.7%;margin-top:9.4%;",31:"margin-left:87.9%;margin-top:9.4%;",32:"margin-left:93.2%;margin-top:9.4%;",33:"margin-left:2.2%;margin-top:14.7%;width:7%;",34:"margin-left:9.9%;margin-top:14.7%;",35:"margin-left:15.3%;margin-top:14.7%;",36:"margin-left:20.4%;margin-top:14.7%;",37:"margin-left:25.7%;margin-top:14.7%;",38:"margin-left:30.9%;margin-top:14.7%;",39:"margin-left:36.2%;margin-top:14.7%;",40:"margin-left:41.5%;margin-top:14.7%;",41:"margin-left:46.9%;margin-top:14.7%;",42:"margin-left:52.1%;margin-top:14.7%;",43:"margin-left:57.4%;margin-top:14.7%;",44:"margin-left:62.7%;margin-top:14.7%;",45:"margin-left:68%;margin-top:14.7%;",46:"margin-left:73.3%;margin-top:14.7%;width:7.3%;",47:"margin-left:82.7%;margin-top:14.7%;",48:"margin-left:88%;margin-top:14.7%;",49:"margin-left:93.2%;margin-top:14.7%;",50:"margin-left:2.2%;margin-top:20%;width:8.4%;",51:"margin-left:11.2%;margin-top:20%;",52:"margin-left:16.5%;margin-top:20%;",53:"margin-left:21.8%;margin-top:20%;",54:"margin-left:27%;margin-top:20%;",55:"margin-left:32.3%;margin-top:20%;",56:"margin-left:37.6%;margin-top:20%;",57:"margin-left:42.9%;margin-top:20%;",58:"margin-left:48.2%;margin-top:20%;",59:"margin-left:53.3%;margin-top:20%;",60:"margin-left:58.6%;margin-top:20%;",61:"margin-left:63.9%;margin-top:20%;",62:"margin-left:69.4%;margin-top:20%;width:11%;",63:"margin-left:2.2%;margin-top:25.2%;width:11%;",64:"margin-left:13.8%;margin-top:25.2%;",65:"margin-left:19.1%;margin-top:25.2%;",66:"margin-left:24.4%;margin-top:25.2%;",67:"margin-left:29.7%;margin-top:25.2%;",68:"margin-left:34.9%;margin-top:25.2%;",69:"margin-left:40.2%;margin-top:25.2%;",70:"margin-left:45.5%;margin-top:25.2%;",71:"margin-left:50.8%;margin-top:25.2%;",72:"margin-left:56%;margin-top:25.2%;",73:"margin-left:61.3%;margin-top:25.2%;",74:"margin-left:66.8%;margin-top:25.2%;width:13.8%;",75:"margin-left:88%;margin-top:25.2%;width:4.6%;",76:"margin-left:2%;margin-top:30.5%;width: 6%;",77:"margin-left:8.6%;margin-top:30.5%;width: 6%;",78:"margin-left:15.2%;margin-top:30.5%;width: 6%;",79:"margin-left:22%;margin-top:30.5%;width:32%;",80:"margin-left:55%;margin-top:30.5%;width:6%;",81:"margin-left:61.3%;margin-top:30.5%;width:6%;",82:"margin-left:67.7%;margin-top:30.5%;width:6%;",83:"margin-left:74.5%;margin-top:30.5%;width:6%;",84:"margin-left:82.6%;margin-top:30.5%;",85:"margin-left:88%;margin-top:30.5%;width:4.8%;",86:"margin-left:93.1%;margin-top:30.5%;"},target:new Array(87),cssText:"position: absolute;height: 100%;width: 100%;pointer-events: none;",BGImage:"url(./image/Share/KB3.png)",BGImageKeyerEffects:"url(./image/Share/KB3KeyerEffects.png)"}}}return e.prototype.getAssignTarget=function(e){return this.keyBoardList[e]},e.prototype.getTarget=function(){return this.keyBoardList[this.nowTargetKey]},e.prototype.getTargetKeyBoradUIcss=function(e){var t=document.getElementById(e);(t.dataset.UITransparent="RGBTransparent")?t.style.backgroundImage=this.keyBoardList[this.nowTargetKey].BGImageKeyerEffects:t.style.backgroundImage=this.keyBoardList[this.nowTargetKey].BGImage},e.prototype.getAssignKBCssStyles=function(e){var t=document.getElementById(e),r=t.getElementsByClassName("SyncRGBColorBlockStyle");t.getElementsByClassName("RGBKeyBoardUITransparent")[0].style.backgroundImage=this.keyBoardList[e].BGImageKeyerEffects;for(var o=0,a=Object.entries(this.getAssignTarget(e).ItemCss);o<a.length;o++){var i=a[o],n=i[0],s=i[1];r[n].style.cssText+=s}},e.prototype.applyStyles=function(e){this.getTargetKeyBoradUIcss("RGBKeyBoardUITransparent");for(var t=0,r=Object.entries(this.getTarget().ItemCss);t<r.length;t++){var o=r[t],a=o[0],i=o[1];e[a].style.cssText+=i}},e}();exports.KeyBoardStyle=KeyBoardStyle;var KB87Data=function(){function e(){}return e.get_prohibit=function(e){void 0===e&&(e="");var t;switch(e){case"All":t=this.KeyIndexMatrix1;break;case"Num":t=this.prohibitNum;break;case"Symbol":t=this.prohibitSymbol;break;case"ABC":t=this.prohibitABC;break;case"Control":t=this.prohibitControl}if(""!=e){for(var r=[],o=0;o<this.KeyIndexMatrix1.length;o++)for(var a=this.KeyIndexMatrix1[o],i=0;i<t.length;i++)t[i]==a&&r.push(o);return console.log("KB1Data_constructor",r),r}},e.prohibitNum=["1","2","3","4","5","6","7","8","9","0"],e.KeyIndexMatrix1=["ESC","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","Print","Break","Pause","`","1","2","3","4","5","6","7","8","9","0","-","+","Backspace","ins","home","pageup","Tab","Q","W","E","R","T","Y","U","I","O","P","[","]","\\","Del","End","PageDown","Caps","A","S","D","F","G","H","J","K","L",":",'"',"Enter","LShift","Z","X","C","V","B","N","M",",",".","/","RShift","UP","LCtrl","LWin","LAlt","Space","RAlt","RWin","Menu","RCtrl","Left","Down","Right"],e.prohibitABC=["Q","W","E","R","T","Y","U","I","O","P","A","S","D","F","G","H","J","K","L","Z","X","C","V","B","N","M"],e.prohibitControl=["`","Backspace","Tab","Caps","Enter","LShift","RShift","LCtrl","LWin","LAlt","Space","RAlt","RWin","Menu","RCtrl"],e.prohibitSymbol=["-","+","*","[","]","\\",":",'"',",",".","/"],e}();exports.KB87Data=KB87Data;